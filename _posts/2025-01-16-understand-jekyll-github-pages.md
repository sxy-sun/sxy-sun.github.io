<!-- ---
title: Understand Jekyll and GitHub Pages
date: 2025-01-16 15:21:00 -0400
categories: [Technotes, Jekyll]
tags: [github] 
---

I’ve been using Jekyll to build websites for both work and my personal site (this one) for years, but I never took the time to fully understand how it works. This post is all about exploring what I want to know—and need to know—about building a website with Jekyll and GitHub Pages.

## Intro

What is Jekyll?
- **Jekyll is a static site generator written in Ruby**. It takes plain text content (usually written in Markdown or HTML) and combines it with layouts to create a complete static website. It’s a popular choice for people building personal or professional websites.

What is Ruby?
- **Ruby is a programming language**, best known for the Ruby on Rails framework.

What is RubyGems?
- **RubyGems is Ruby’s package manager**. It helps developers distribute, manage, and install libraries (called “gems”) for Ruby projects. Jekyll itself is a Ruby gem. Think of RubyGems as the Ruby equivalent of Python’s pip.

What is a Gem?
- **A gem is a Ruby library or package**, distributed via RubyGems.org. You can install gems using the `gem` command or *Bundler*.

What is Bundler? And when do we use it?
- **Bundler is a Ruby tool for managing gem dependencies** in your project. It ensures the gems listed in a Gemfile are installed in the correct versions and loaded properly.
- Key Commands:
    - `bundle install`: Installs all gems specified in the Gemfile.
    - `bundle exec`: Executes commands in the context of the installed gems (e.g., `bundle exec jekyll serve`).

What are Gemfile and Gemfile.lock?
- **Gemfile**: A file listing the Ruby gems your project depends on, along with their required versions.
- **Gemfile.lock**: Automatically generated by Bundler when you run bundle install. It locks the exact versions of gems used.

> Do not add Gemfile.lock to your .gitignore. Including it ensures that others cloning your repository will install the exact same gem versions, making the project behave consistently across environments.

What’s the relationship between `gem` and Bundler (`bundle`)?
- `gem`: Provided by RubyGems, this is the core command for installing and managing gems system-wide.
- Bundler: Works on top of RubyGems. It introduces the Gemfile and Gemfile.lock to define and lock gem versions for a project, ensuring isolated environments.
- Bundler with Gemfile is similar to Conda with requirements.txt. Both tools ensure consistent dependency management across environments.

## Get Started
### 1. Setting the environment
> Here I will introduce both Ubuntu and Mac (M2) as I have both of the OS running.

#### Ubuntu
1. Following the ubuntu [installation guide](https://jekyllrb.com/docs/installation/ubuntu/).
    - Following the commands from the official guide, the gems will be stored in your home direcotry, which in my opinion, annoying. So I made `jekyll_ws` and put everything there. 
    ```bash
    echo '# Install Ruby Gems to ~/jekyll_ws/gems' >> ~/.bashrc
    echo 'export GEM_HOME="$HOME/jekyll_ws/gems"' >> ~/.bashrc
    echo 'export PATH="$HOME/jekyll_ws/gems/bin:$PATH"' >> ~/.bashrc
    source ~/.bashrc
    ```
3. Then eventually install jekyll and bundler using `gem install jekyll bundler`. Now you have jekyll and bundler these 2 gems.


===================================================================

    - If you are getting errors:
        ```bash
        $ bundle update
        Fetching gem metadata from https://rubygems.org/...........
        Resolving dependencies...
        Bundler found conflicting requirements for the Ruby version:
        In Gemfile:
            html-proofer (~> 5.0) was resolved to 5.0.9, which depends on
            Ruby (< 4.0, >= 3.1)

        Current Ruby version:
            Ruby (= 3.0.2)
        ```


https://github.com/rbenv/rbenv

```bash
sudo apt install rbenv
```
Then do `rbenv install 3.1.2`. There is a chance you will see
```bash
rbenv install 3.1.2
ruby-build: definition not found: 3.1.2

See all available versions with `rbenv install --list'.

If the version you need is missing, try upgrading ruby-build.
```
This means that you need to install ruby-build: https://github.com/rbenv/ruby-build#readme

after installing ruby-buld, `$ rbenv install -l` will magically list more versions available. Then you can install. Then you can select the version you want.

```bash
$ rbenv local 
3.2.6    --help   system   --unset  
xssun@ROB-STAFF-01:~/jekyll_ws$ rbenv local 
3.2.6    --help   system   --unset  
xssun@ROB-STAFF-01:~/jekyll_ws$ rbenv local 3.2.6 
xssun@ROB-STAFF-01:~/jekyll_ws$ ruby -v
ruby 3.2.6 (2024-10-30 revision 63aeb018eb) [x86_64-linux]
``` -->
